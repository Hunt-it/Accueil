<!DOCTYPE html>
<html>
    <head>
        <meta charset=""utf-8>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Le Gothique</title>
        <link rel="stylesheet" href = "style_gothique.css" />
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    </head>
    <body>

        <nav class="navbar">
            <div class="nav-title"><a href="index.html">Hunt it</a></div>
            <div class="menu-toggle" id="menu-toggle">&#9776;</div>
            <ul class="nav-links" id="nav-links">
              <li><a href="regles.html">Règles</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" id="dropdown-toggle">Parcours</a>
                <ul class="dropdown-menu" id="dropdown-menu">
                  <li><a href="PG0menu.html">Gothique</a></li>
                  <li><a href="louislegrand.html">Magnum Secretum</a></li>
                  <li><a href="ErreurSoon.html">Autres</a></li>
                </ul>
              </li>
              <li><a href="apropos.html">À propos</a></li>
            </ul>
          </nav>
          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const menuToggle = document.getElementById("menu-toggle");
              const navLinks = document.getElementById("nav-links");
              const dropdownToggle = document.getElementById("dropdown-toggle");
              const dropdownMenu = document.getElementById("dropdown-menu");
            
              // ouvrir/fermer le menu principal
              menuToggle.addEventListener("click", () => {
                navLinks.classList.toggle("active");
              });
            
              // ouvrir/fermer le sous-menu uniquement sur mobile
              dropdownToggle.addEventListener("click", (e) => {
            if (window.innerWidth <= 768) {
              e.preventDefault();
          
              // referme tous les autres menus si besoin
              document.querySelectorAll(".dropdown-menu").forEach(menu => {
                if (menu !== dropdownMenu) menu.classList.remove("active");
              });
          
              // toggle affichage du menu "Parcours"
              dropdownMenu.classList.toggle("active");
            }
            });
           
            });
            </script>


            <div class="image-container">
                <img src="titreLLG.png" alt="Titre" class="image-gothique">
                <img src="04LLG.png" alt="01" class="image-gothique">
            <div class="main-content">
              <p>Pour ce dernier défi vous devrez trouver notre base secrète. Pour cela rien de tel qu’un rébus. Réussissez ce jeu et vous serez l’un des nôtres. Réussissez ce défi et la gloire sera votre. Nous vous attendons dans notre antre, tout de suite, ou à jamais…</p>
            </div>
          <!-- Partie déjà existante -->

<img src="rebus.png" alt="rebus" class="marge2">

<div class="bloc-mot-magique">
  <div class="date-checker">
    <p class="date-title">Entrez le mot du Rébus</p>
    <div class="date-inputs">
      <input class="date-input" placeholder="..." aria-label="Devise latine">
    </div>
    <button class="validate-button" onclick="verifierDates()">Soumettre</button>
    <p id="message-resultat" class="date-result"></p>
    <div id="bloc-deuxieme-entree" style="display: none; margin-top: 20px;">
      <p class="date-title">Message transmis par les chefs :</p>
      <input class="date-input" id="entree-secret" placeholder="..." aria-label="Message secret">
      <button class="validate-button" onclick="verifierSecret()">Valider le message</button>
      <p id="message-secret-feedback" class="date-result"></p>
    </div>
    
    <div class="continue-wrapper" id="bouton-continu" style="display:none;">
      <a href="LLGfin.html" class="continue-button">Continuer</a>
    </div>
  </div>
</div>

<script>
  function verifierDates() {
    const input = document.querySelector('.date-input').value.trim();
    const resultat = document.getElementById('message-resultat');
    const valeurAttendue = "lucie aubrac";
    const nettoye = input.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();

    if (nettoye === valeurAttendue) {
      resultat.innerHTML = `
        Vous avez trouvé le dernier indice, <strong>félicitations</strong> !<br>
        Grâce à lui, trouvez l’antre de l’ordre et présentez-vous auprès des chefs de l’organisation avec ce message secret :<br><br>
        <strong>Louis le grand a son secret</strong>.
      `;
      resultat.style.color = "#3b2d24";
      document.getElementById("bloc-deuxieme-entree").style.display = "block";
    } else {
      resultat.textContent = "Ce n’est pas la bonne réponse…";
      resultat.style.color = "#8b0000";
    }
  }

  function verifierSecret() {
    const message = document.getElementById('entree-secret').value.trim().toLowerCase();
    const clean = message.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
    const feedback = document.getElementById('message-secret-feedback');
    const bouton = document.getElementById('bouton-continu');

    if (clean === "le cpes en est la cle") {
      feedback.textContent = "Message accepté. Vous pouvez continuer.";
      feedback.style.color = "darkgreen";
      bouton.style.display = "block";
    } else {
      feedback.textContent = "Ce message ne correspond pas à ce que les chefs attendent…";
      feedback.style.color = "#8b0000";
      bouton.style.display = "none";
    }
  }
</script>




</div>
</body>
</html>
